/*! For license information please see 530.0a9fa2e768fcc894f3e2.js.LICENSE.txt */
(self.webpackChunk_mattermost_webapp=self.webpackChunk_mattermost_webapp||[]).push([[530],{17727:(t,e,n)=>{"use strict";var r=n(82109),i=n(31913),o=n(2492),s=n(47293),a=n(35005),h=n(60614),c=n(36707),u=n(69478),l=n(98052),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,a("Promise")),n=h(t);return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&h(o)){var p=a("Promise").prototype.finally;f.finally!==p&&l(f,"finally",p,{unsafe:!0})}},84922:function(t,e,n){"use strict";function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o="undefined"!=typeof window&&window===this?this:void 0!==n.g&&null!=n.g?n.g:this;function s(){s=function(){},o.Symbol||(o.Symbol=c)}function a(t,e){this.b=t,i(this,"description",{configurable:!0,writable:!0,value:e})}a.prototype.toString=function(){return this.b};var h,c=(h=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(e||"")+"_"+h++,e)});function u(){s();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[t]&&i(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return function(t){return u(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}(r(this))}}),u=function(){}}function l(t,e){if(e){var n=o;t=t.split(".");for(var r=0;r<t.length-1;r++){var s=t[r];s in n||(n[s]={}),n=n[s]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}function f(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}l("Array.prototype.keys",(function(t){return t||function(){return function(t,e){u(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t){return t}))}})),l("Promise",(function(t){function e(t){this.h=0,this.m=void 0,this.b=[];var e=this.j();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.b=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.h=function(t){if(null==this.b){this.b=[];var e=this;this.j((function(){e.m()}))}this.b.push(t)};var i=o.setTimeout;n.prototype.j=function(t){i(t,0)},n.prototype.m=function(){for(;this.b&&this.b.length;){var t=this.b;this.b=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.l(t)}}}this.b=null},n.prototype.l=function(t){this.j((function(){throw t}))},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.L),reject:t(this.l)}},e.prototype.L=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.M(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.K(t):this.w(t)}},e.prototype.K=function(t){var e=void 0;try{e=t.then}catch(t){return void this.l(t)}"function"==typeof e?this.N(e,t):this.w(t)},e.prototype.l=function(t){this.B(2,t)},e.prototype.w=function(t){this.B(1,t)},e.prototype.B=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.m=e,this.I()},e.prototype.I=function(){if(null!=this.b){for(var t=0;t<this.b.length;++t)s.h(this.b[t]);this.b=null}};var s=new n;return e.prototype.M=function(t){var e=this.j();t.F(e.resolve,e.reject)},e.prototype.N=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.F(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.F=function(t,e){function n(){switch(r.h){case 1:t(r.m);break;case 2:e(r.m);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.b?s.h(n):this.b.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=f(t),o=i.next();!o.done;o=i.next())r(o.value).F(e,n)}))},e.all=function(t){var n=f(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).F(o(s.length-1),e),i=n.next()}while(!i.done)}))},e})),function(e,n,r){var i;(i=r.define)&&i.amd?i([],(function(){return n})):(i=r.modules)?i["FlexSearch".toLowerCase()]=n:t.exports=n}(0,function t(e){function n(t,e){var n=e?e.id:t&&t.id;this.id=n||0===n?n:A++,this.init(t,e),a(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)})),a(this,"length",(function(){return this.index.length}))}function r(t,e,n,r){return this.D!==this.i&&(this.A=this.A.concat(n),this.D++,r&&this.A.length>=r&&(this.D=this.i),this.D===this.i&&(this.cache&&this.u.set(e,this.A),this.H&&this.H(this.A))),this}function i(t){var e,n=S();for(e in t)if(t.hasOwnProperty(e)){var r=t[e];x(r)?n[e]=r.slice(0):w(r)?n[e]=i(r):n[e]=r}return n}function o(t,e){for(var n=t.length,r=b(e),i=[],o=0,s=0;o<n;o++){var a=t[o];(r&&e(a)||!r&&!e[a])&&(i[s++]=a)}return i}function s(t,e,n,r,i,o,s,a,h,c){if(n=y(n,s?0:i,a,o,e,h,c),a){a=n.page;var u=n.next;n=n.result}if(s)e=this.where(s,null,i,n);else{for(e=n,n=this.v,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=n[e[s]];e=o}return n=e,r&&(b(r)||(1<(O=r.split(":")).length?r=v:(O=O[0],r=d)),n.sort(r)),n=g(a,u,n),this.cache&&this.u.set(t,n),n}function a(t,e,n){Object.defineProperty(t,e,{get:n})}function h(t){return new RegExp(t,"g")}function c(t,e){for(var n=0;n<e.length;n+=2)t=t.replace(e[n],e[n+1]);return t}function u(t,e,n,r,i,o,s,a){return e[n]?e[n]:(i=i?(a-(s||a/1.5))*o+(s||a/1.5)*i:o,e[n]=i,i>=s&&((t=(t=t[a-(i+.5>>0)])[n]||(t[n]=[]))[t.length]=r),i)}function l(t,e){if(t)for(var n=Object.keys(t),r=0,i=n.length;r<i;r++){var o=n[r],s=t[o];if(s)for(var a=0,h=s.length;a<h;a++){if(s[a]===e){1===h?delete t[o]:s.splice(a,1);break}w(s[a])&&l(s[a],e)}}}function f(t){for(var e="",n="",r="",i=0;i<t.length;i++){var o=t[i];o!==n&&(i&&"h"===o?(r="a"===r||"e"===r||"i"===r||"o"===r||"u"===r||"y"===r,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&r||" "===n)&&(e+=o)):e+=o),r=i===t.length-1?"":t[i+1],n=o}return e}function p(t,e){return 0>(t=t.length-e.length)?1:t?-1:0}function d(t,e){return(t=t[O])<(e=e[O])?-1:t>e?1:0}function v(t,e){for(var n=O.length,r=0;r<n;r++)t=t[O[r]],e=e[O[r]];return t<e?-1:t>e?1:0}function g(t,e,n){return t?{page:t,next:e?""+e:null,result:n}:n}function y(t,e,n,r,i,o,s){var a=[];if(!0===n){n="0";var h=""}else h=n&&n.split(":");var c=t.length;if(1<c){var u,l,f,p,d=S(),v=[],y=0,x=!0,b=0;if(h)if(2===h.length){var w=h;h=!1}else h=f=parseInt(h[0],10);if(s){for(u=S();y<c;y++)if("not"===i[y]){var E=t[y],I=E.length;for(l=0;l<I;l++)u["@"+E[l]]=1}else var N=y+1;if(k(N))return g(n,P,a);y=0}else var O=m(i)&&i;for(;y<c;y++){var R=y===(N||c)-1;if(!O||!y)if((l=O||i&&i[y])&&"and"!==l){if("or"!==l)continue;p=!1}else p=o=!0;if(I=(E=t[y]).length){if(x){if(!A){A=E;continue}var j=A.length;for(l=0;l<j;l++){var T="@"+(x=A[l]);s&&u[T]||(d[T]=1,o||(a[b++]=x))}var A=null;x=!1}for(T=!1,l=0;l<I;l++){var C="@"+(j=E[l]),M=o?d[C]||0:y;if(!(!M&&!r||s&&u[C]||!o&&d[C]))if(M===y){if(R){if((!f||--f<b)&&(a[b++]=j,e&&b===e))return g(n,b+(h||0),a)}else d[C]=y+1;T=!0}else r&&((C=v[M]||(v[M]=[]))[C.length]=j)}if(p&&!T&&!r)break}else if(p&&!r)return g(n,P,E)}if(A)if(y=A.length,s)for(l=h?parseInt(h,10):0;l<y;l++)u["@"+(t=A[l])]||(a[b++]=t);else a=A;if(r)for(b=a.length,w?(y=parseInt(w[0],10)+1,l=parseInt(w[1],10)+1):(y=v.length,l=0);y--;)if(j=v[y]){for(I=j.length;l<I;l++)if(r=j[l],(!s||!u["@"+r])&&(a[b++]=r,e&&b===e))return g(n,y+":"+l,a);l=0}}else!c||i&&"not"===i[0]||(a=t[0],h&&(h=parseInt(h[0],10)));if(e){s=a.length,h&&h>s&&(h=0);var P=(h=h||0)+e;P<s?a=a.slice(h,P):(P=0,h&&(a=a.slice(h)))}return g(n,P,a)}function m(t){return"string"==typeof t}function x(t){return t.constructor===Array}function b(t){return"function"==typeof t}function w(t){return"object"==typeof t}function k(t){return void 0===t}function E(t){for(var e=Array(t),n=0;n<t;n++)e[n]=S();return e}function S(){return Object.create(null)}function I(){var t,e;self.onmessage=function(n){if(n=n.data)if(n.search){var r=e.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:t,content:n.content,limit:n.limit,result:r})}else n.add?e.add(n.id,n.content):n.update?e.update(n.id,n.content):n.remove?e.remove(n.id):n.clear?e.clear():n.info?((n=e.info()).worker=t,console.log(n)):n.register&&(t=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,e=new(e=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))())(n.options))}}function N(n,r,i,o){n=e("flexsearch","id"+n,I,(function(t){(t=t.data)&&t.result&&o(t.id,t.content,t.result,t.limit,t.where,t.cursor,t.suggest)}),r);var s=t.toString();return i.id=r,n.postMessage({register:s,options:i,id:r}),n}var O,R={encode:"icase",g:"forward",split:/\W+/,cache:!1,async:!1,i:!1,G:!1,a:!1,c:9,threshold:0,depth:0},j={memory:{encode:"extra",g:"strict",threshold:0,c:1},speed:{encode:"icase",g:"strict",threshold:1,c:3,depth:2},match:{encode:"extra",g:"full",threshold:1,c:3},score:{encode:"extra",g:"strict",threshold:1,c:9,depth:4},balance:{encode:"balance",g:"strict",threshold:0,c:3,depth:3},fast:{encode:"icase",g:"strict",threshold:8,c:9,depth:1}},T=[],A=0,C={},M={};n.create=function(t,e){return new n(t,e)},n.registerMatcher=function(t){for(var e in t)t.hasOwnProperty(e)&&T.push(h(e),t[e]);return this},n.registerEncoder=function(t,e){return W[t]=e.bind(W),this},n.registerLanguage=function(t,e){return C[t]=e.filter,M[t]=e.stemmer,this},n.encode=function(t,e){return W[t](e)},n.prototype.init=function(t,e){if(this.h=[],e){var o=e.preset;t=e}else t||(t=R),o=t.preset;if(e={},m(t)?((e=j[t])||console.warn("Preset not found: "+t),t={}):o&&((e=j[o])||console.warn("Preset not found: "+o)),o=t.worker)if("undefined"==typeof Worker)t.worker=!1,this.b=null;else{var s=parseInt(o,10)||4;this.w=-1,this.D=0,this.A=[],this.H=null,this.b=Array(s);for(var a=0;a<s;a++)this.b[a]=N(this.id,a,t,r.bind(this))}if(this.g=t.tokenize||e.g||this.g||R.g,this.split=k(o=t.split)?this.split||R.split:m(o)?h(o):o,this.G=t.rtl||this.G||R.G,this.async="undefined"==typeof Promise||k(o=t.async)?this.async||R.async:o,this.i=k(o=t.worker)?this.i||R.i:o,this.threshold=k(o=t.threshold)?e.threshold||this.threshold||R.threshold:o,this.c=k(o=t.resolution)?o=e.c||this.c||R.c:o,o<=this.threshold&&(this.c=this.threshold+1),this.depth="strict"!==this.g||k(o=t.depth)?e.depth||this.depth||R.depth:o,this.j=(o=k(o=t.encode)?e.encode||R.encode:o)&&W[o]&&W[o].bind(W)||(b(o)?o:this.j||!1),(o=t.matcher)&&this.addMatcher(o),o=(e=t.lang)||t.filter){if(m(o)&&(o=C[o]),x(o)){s=this.j,a=S();for(var c=0;c<o.length;c++){var u=s?s(o[c]):o[c];a[u]=1}o=a}this.filter=o}if(o=e||t.stemmer){for(var l in e=m(o)?M[o]:o,s=this.j,a=[],e)e.hasOwnProperty(l)&&(c=s?s(l):l,a.push(h(c+"($|\\W)"),s?s(e[l]):e[l]));this.stemmer=a}if(this.a=a=(o=t.doc)?i(o):this.a||R.a,this.s=E(this.c-(this.threshold||0)),this.o=S(),this.f=S(),a){if(this.v=S(),t.doc=null,l=a.index={},e=a.keys=[],s=a.field,c=a.tag,u=a.store,x(a.id)||(a.id=a.id.split(":")),u){var f=S();if(m(u))f[u]=1;else if(x(u))for(var p=0;p<u.length;p++)f[u[p]]=1;else w(u)&&(f=u);a.store=f}if(c){if(this.B=S(),u=S(),s)if(m(s))u[s]=t;else if(x(s))for(f=0;f<s.length;f++)u[s[f]]=t;else w(s)&&(u=s);for(x(c)||(a.tag=c=[c]),s=0;s<c.length;s++)this.B[c[s]]=S();this.I=c,s=u}if(s){if(!x(s))if(w(s)){var d=s;a.field=s=Object.keys(s)}else a.field=s=[s];for(a=0;a<s.length;a++)x(c=s[a])||(d&&(t=d[c]),e[a]=c,s[a]=c.split(":")),l[c]=new n(t)}t.doc=o}return this.m=!0,this.u=!!(this.cache=o=k(o=t.cache)?this.cache||R.cache:o)&&new z(o),this},n.prototype.encode=function(t){return t&&(T.length&&(t=c(t,T)),this.h.length&&(t=c(t,this.h)),this.j&&(t=this.j(t)),this.stemmer&&(t=c(t,this.stemmer))),t},n.prototype.addMatcher=function(t){var e,n=this.h;for(e in t)t.hasOwnProperty(e)&&n.push(h(e),t[e]);return this},n.prototype.add=function(t,e,n,r,i){if(this.a&&w(t))return this.l("add",t,e);if(e&&m(e)&&(t||0===t)){var s="@"+t;if(this.f[s]&&!r)return this.update(t,e);if(this.i)return++this.w>=this.b.length&&(this.w=0),this.b[this.w].postMessage({add:!0,id:t,content:e}),this.f[s]=""+this.w,n&&n(),this;if(!i){if(this.async&&"function"!=typeof importScripts){var a=this;return s=new Promise((function(n){setTimeout((function(){a.add(t,e,null,r,!0),a=null,n()}))})),n?(s.then(n),this):s}if(n)return this.add(t,e,null,r,!0),n(),this}if(!(e=this.encode(e)).length)return this;i=b(n=this.g)?n(e):e.split(this.split),this.filter&&(i=o(i,this.filter));var h=S();h._ctx=S();for(var c=i.length,l=this.threshold,f=this.depth,p=this.c,d=this.s,v=this.G,g=0;g<c;g++){var y=i[g];if(y){var x=y.length,k=(v?g+1:c-g)/c,I="";switch(n){case"reverse":case"both":for(var N=x;--N;)u(d,h,I=y[N]+I,t,v?1:(x-N)/x,k,l,p-1);I="";case"forward":for(N=0;N<x;N++)u(d,h,I+=y[N],t,v?(N+1)/x:1,k,l,p-1);break;case"full":for(N=0;N<x;N++)for(var O=(v?N+1:x-N)/x,R=x;R>N;R--)u(d,h,I=y.substring(N,R),t,O,k,l,p-1);break;default:if(x=u(d,h,y,t,1,k,l,p-1),f&&1<c&&x>=l)for(x=h._ctx[y]||(h._ctx[y]=S()),y=this.o[y]||(this.o[y]=E(p-(l||0))),0>(k=g-f)&&(k=0),(I=g+f+1)>c&&(I=c);k<I;k++)k!==g&&u(y,x,i[k],t,0,p-(k<g?g-k:k-g),l,p-1)}}}this.f[s]=1,this.m=!1}return this},n.prototype.l=function(t,e,n){if(x(e)){var r=e.length;if(r--){for(var i=0;i<r;i++)this.l(t,e[i]);return this.l(t,e[r],n)}}else{var o,s=this.a.index,a=this.a.keys,h=this.a.tag;i=this.a.store;var c=this.a.id;r=e;for(var u=0;u<c.length;u++)r=r[c[u]];if("remove"===t&&(delete this.v[r],c=a.length,c--)){for(e=0;e<c;e++)s[a[e]].remove(r);return s[a[c]].remove(r,n)}if(h){for(o=0;o<h.length;o++){var l=h[o],f=e;for(c=l.split(":"),u=0;u<c.length;u++)f=f[c[u]];f="@"+f}o=(o=this.B[l])[f]||(o[f]=[])}for(h=0,l=(c=this.a.field).length;h<l;h++){u=c[h],f=e;for(var p=0;p<u.length;p++)f=f[u[p]];u=s[a[h]],p="add"===t?u.add:u.update,h===l-1?p.call(u,r,f,n):p.call(u,r,f)}if(i){for(n=Object.keys(i),t=S(),s=0;s<n.length;s++)if(i[a=n[s]])for(a=a.split(":"),h=c=void 0,l=0;l<a.length;l++)c=(c||e)[f=a[l]],h=(h||t)[f]=c;e=t}o&&(o[o.length]=e),this.v[r]=e}return this},n.prototype.update=function(t,e,n){return this.a&&w(t)?this.l("update",t,e):(this.f["@"+t]&&m(e)&&(this.remove(t),this.add(t,e,n,!0)),this)},n.prototype.remove=function(t,e,n){if(this.a&&w(t))return this.l("remove",t,e);var r="@"+t;if(this.f[r]){if(this.i)return this.b[this.f[r]].postMessage({remove:!0,id:t}),delete this.f[r],e&&e(),this;if(!n){if(this.async&&"function"!=typeof importScripts){var i=this;return r=new Promise((function(e){setTimeout((function(){i.remove(t,null,!0),i=null,e()}))})),e?(r.then(e),this):r}if(e)return this.remove(t,null,!0),e(),this}for(e=0;e<this.c-(this.threshold||0);e++)l(this.s[e],t);this.depth&&l(this.o,t),delete this.f[r],this.m=!1}return this},n.prototype.search=function(t,e,n,r){if(w(e)){if(x(e))for(var i=0;i<e.length;i++)e[i].query=t;else e.query=t;t=e,e=1e3}else e&&b(e)?(n=e,e=1e3):e||0===e||(e=1e3);if(!this.i){var a=[],h=t;if(w(t)&&!x(t)){n||(n=t.callback)&&(h.callback=null);var c=t.sort,u=t.page;e=t.limit,W=t.threshold;var l=t.suggest;t=t.query}if(this.a){W=this.a.index;var f,d,v=h.where,g=h.bool||"or",k=h.field,E=g;if(k)x(k)||(k=[k]);else if(x(h)){var I=h;k=[],E=[];for(var N=0;N<h.length;N++)i=(r=h[N]).bool||g,k[N]=r.field,E[N]=i,"not"===i?f=!0:"and"===i&&(d=!0)}else k=this.a.keys;for(g=k.length,N=0;N<g;N++)I&&(h=I[N]),u&&!m(h)&&(h.page=null,h.limit=0),a[N]=W[k[N]].search(h,0);if(n)return n(s.call(this,t,E,a,c,e,l,v,u,d,f));if(this.async){var O=this;return new Promise((function(n){Promise.all(a).then((function(r){n(s.call(O,t,E,r,c,e,l,v,u,d,f))}))}))}return s.call(this,t,E,a,c,e,l,v,u,d,f)}if(W||(W=this.threshold||0),!r){if(this.async&&"function"!=typeof importScripts){var R=this;return W=new Promise((function(t){setTimeout((function(){t(R.search(h,e,null,!0)),R=null}))})),n?(W.then(n),this):W}if(n)return n(this.search(h,e,null,!0)),this}if(!t||!m(t))return a;if(h=t,this.cache)if(this.m){if(n=this.u.get(t))return n}else this.u.clear(),this.m=!0;if(!(h=this.encode(h)).length)return a;n=b(n=this.g)?n(h):h.split(this.split),this.filter&&(n=o(n,this.filter)),I=n.length,r=!0,i=[];var j=S(),T=0;if(1<I&&(this.depth&&"strict"===this.g?g=!0:n.sort(p)),!g||(N=this.o))for(var A=this.c;T<I;T++){var C=n[T];if(C){if(g){if(!k)if(N[C])k=C,j[C]=1;else if(!l)return a;if(l&&T===I-1&&!i.length)g=!1,j[C=k||C]=0;else if(!k)continue}if(!j[C]){var M=[],P=!1,F=0,L=g?N[k]:this.s;if(L)for(var J=void 0,_=0;_<A-W;_++)(J=L[_]&&L[_][C])&&(M[F++]=J,P=!0);if(P)k=C,i[i.length]=1<F?M.concat.apply([],M):M[0];else if(!l){r=!1;break}j[C]=1}}}else r=!1;return r&&(a=y(i,e,u,l)),this.cache&&this.u.set(t,a),a}this.H=n,this.D=0,this.A=[];for(var W=0;W<this.i;W++)this.b[W].postMessage({search:!0,limit:e,content:t})},n.prototype.find=function(t,e){return this.where(t,e,1)[0]||null},n.prototype.where=function(t,e,n,r){var i,o=this.v,s=[],a=0;if(w(t)){n||(n=e);var h=Object.keys(t),c=h.length,u=!1;if(1===c&&"id"===h[0])return[o[t.id]];if((i=this.I)&&!r)for(var l=0;l<i.length;l++){var f=i[l],p=t[f];if(!k(p)){var d=this.B[f]["@"+p];if(0==--c)return d;h.splice(h.indexOf(f),1),delete t[f];break}}for(i=Array(c),l=0;l<c;l++)i[l]=h[l].split(":")}else{if(b(t)){for(n=(e=r||Object.keys(o)).length,h=0;h<n;h++)t(c=o[e[h]])&&(s[a++]=c);return s}if(k(e))return[o[t]];if("id"===t)return[o[e]];h=[t],c=1,i=[t.split(":")],u=!0}for(l=(r=d||r||Object.keys(o)).length,f=0;f<l;f++){p=d?r[f]:o[r[f]];for(var v=!0,g=0;g<c;g++){u||(e=t[h[g]]);var y=i[g],m=y.length,x=p;if(1<m)for(var E=0;E<m;E++)x=x[y[E]];else x=x[y[0]];if(x!==e){v=!1;break}}if(v&&(s[a++]=p,n&&a===n))break}return s},n.prototype.info=function(){if(!this.i)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.C)&&this.cache.C.length,matcher:T.length+(this.h?this.h.length:0),worker:this.i,threshold:this.threshold,depth:this.depth,resolution:this.c,contextual:this.depth&&"strict"===this.g};for(var t=0;t<this.i;t++)this.b[t].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.u.clear(),this.u=null),this.s=this.o=this.f=null,this.a){for(var t=this.a.keys,e=0;e<t.length;e++)this.a.index[t[e]].destroy();this.a=this.v=null}return this},n.prototype.export=function(t){var e=!t||k(t.serialize)||t.serialize;if(this.a){var n=!t||k(t.doc)||t.doc,r=!t||k(t.index)||t.index;t=[];var i=0;if(r)for(r=this.a.keys;i<r.length;i++){var o=this.a.index[r[i]];t[i]=[o.s,o.o,Object.keys(o.f)]}n&&(t[i]=this.v)}else t=[this.s,this.o,Object.keys(this.f)];return e&&(t=JSON.stringify(t)),t},n.prototype.import=function(t,e){(!e||k(e.serialize)||e.serialize)&&(t=JSON.parse(t));var n=S();if(this.a){var r=!e||k(e.doc)||e.doc,i=0;if(!e||k(e.index)||e.index){for(var o=(e=this.a.keys).length,s=t[0][2];i<s.length;i++)n[s[i]]=1;for(i=0;i<o;i++){s=this.a.index[e[i]];var a=t[i];a&&(s.s=a[0],s.o=a[1],s.f=n)}}r&&(this.v=w(r)?r:t[i])}else{for(r=t[2],i=0;i<r.length;i++)n[r[i]]=1;this.s=t[0],this.o=t[1],this.f=n}};var P,F,L,J,_=(F=h("\\s+"),L=h("[^a-z0-9 ]"),J=[h("[-/]")," ",L,"",F," "],function(t){return f(c(t.toLowerCase(),J))}),W={icase:function(t){return t.toLowerCase()},simple:function(){var t=h("\\s+"),e=h("[^a-z0-9 ]"),n=h("[-/]"),r=[h("[àáâãäå]"),"a",h("[èéêë]"),"e",h("[ìíîï]"),"i",h("[òóôõöő]"),"o",h("[ùúûüű]"),"u",h("[ýŷÿ]"),"y",h("ñ"),"n",h("[çc]"),"k",h("ß"),"s",h(" & ")," and ",n," ",e,"",t," "];return function(t){return" "===(t=c(t.toLowerCase(),r))?"":t}}(),advanced:function(){var t=h("ae"),e=h("ai"),n=h("ay"),r=h("ey"),i=h("oe"),o=h("ue"),s=h("ie"),a=h("sz"),u=h("zs"),l=h("ck"),p=h("cc"),d=[t,"a",e,"ei",n,"ei",r,"ei",i,"o",o,"u",s,"i",a,"s",u,"s",h("sh"),"s",l,"k",p,"k",h("th"),"t",h("dt"),"t",h("ph"),"f",h("pf"),"f",h("ou"),"o",h("uo"),"u"];return function(t,e){return t?(2<(t=this.simple(t)).length&&(t=c(t,d)),e||1<t.length&&(t=f(t)),t):t}}(),extra:(P=[h("p"),"b",h("z"),"s",h("[cgq]"),"k",h("n"),"m",h("d"),"t",h("[vw]"),"f",h("[aeiouy]"),""],function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(var e=0;e<t.length;e++){var n=t[e];1<n.length&&(t[e]=n[0]+c(n.substring(1),P))}t=f(t=t.join(" "))}return t}),balance:_},z=function(){function t(t){this.clear(),this.J=!0!==t&&t}return t.prototype.clear=function(){this.cache=S(),this.count=S(),this.index=S(),this.C=[]},t.prototype.set=function(t,e){if(this.J&&k(this.cache[t])){var n=this.C.length;if(n===this.J){n--;var r=this.C[n];delete this.cache[r],delete this.count[r],delete this.index[r]}this.index[t]=n,this.C[n]=t,this.count[t]=-1,this.cache[t]=e,this.get(t)}else this.cache[t]=e},t.prototype.get=function(t){var e=this.cache[t];if(this.J&&e){var n=++this.count[t],r=this.index,i=r[t];if(0<i){for(var o=this.C,s=i;this.count[o[--i]]<=n&&-1!==i;);if(++i!==s){for(n=s;n>i;n--)s=o[n-1],o[n]=s,r[s]=n;o[i]=t,r[t]=i}}}return e},t}();return n}(function(){var t={},e="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(n,r,i,o,s){return i=e?URL.createObjectURL(new Blob(["("+i.toString()+")()"],{type:"text/javascript"})):n+".es5.js",t[n+="-"+r]||(t[n]=[]),t[n][s]=new Worker(i),t[n][s].onmessage=o,console.log("Register Worker: "+n+"@"+s),t[n][s]}}()),this)},96874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},20731:(t,e,n)=>{var r=n(88668),i=n(47443),o=n(1196),s=n(29932),a=n(7518),h=n(74757);t.exports=function(t,e,n,c){var u=-1,l=i,f=!0,p=t.length,d=[],v=e.length;if(!p)return d;n&&(e=s(e,a(n))),c?(l=o,f=!1):e.length>=200&&(l=h,f=!1,e=new r(e));t:for(;++u<p;){var g=t[u],y=null==n?g:n(g);if(g=c||0!==g?g:0,f&&y==y){for(var m=v;m--;)if(e[m]===y)continue t;d.push(g)}else l(e,y,c)||d.push(g)}return d}},21078:(t,e,n)=>{var r=n(62488),i=n(37285);t.exports=function t(e,n,o,s,a){var h=-1,c=e.length;for(o||(o=i),a||(a=[]);++h<c;){var u=e[h];n>0&&o(u)?n>1?t(u,n-1,o,s,a):r(a,u):s||(a[a.length]=u)}return a}},5976:(t,e,n)=>{var r=n(6557),i=n(45357),o=n(30061);t.exports=function(t,e){return o(i(t,e,r),t+"")}},56560:(t,e,n)=>{var r=n(75703),i=n(38777),o=n(6557),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},37285:(t,e,n)=>{var r=n(62705),i=n(35694),o=n(1469),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(s&&t&&t[s])}},45357:(t,e,n)=>{var r=n(96874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),h=Array(a);++s<a;)h[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=n(h),r(t,this,c)}}},30061:(t,e,n)=>{var r=n(56560),i=n(21275)(r);t.exports=i},21275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},75703:t=>{t.exports=function(t){return function(){return t}}},91966:(t,e,n)=>{var r=n(20731),i=n(21078),o=n(5976),s=n(29246),a=o((function(t,e){return s(t)?r(t,i(e,1,s,!0)):[]}));t.exports=a},29246:(t,e,n)=>{var r=n(98612),i=n(37005);t.exports=function(t){return i(t)&&r(t)}},14293:t=>{t.exports=function(t){return null==t}},813:function(t){t.exports=function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=n,this.iframes=r,this.exclude=i,this.iframesTimeout=o}return n(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach((function(e){var n=t.filter((function(t){return t.contains(e)})).length>0;-1!==t.indexOf(e)||n||t.push(e)})),t}},{key:"getIframeContents",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=void 0;try{var i=t.contentWindow;if(r=i.document,!i||!r)throw new Error("iframe inaccessible")}catch(t){n()}r&&e(r)}},{key:"isIframeBlank",value:function(t){var e="about:blank",n=t.getAttribute("src").trim();return t.contentWindow.location.href===e&&n!==e&&n}},{key:"observeIframeLoad",value:function(t,e,n){var r=this,i=!1,o=null,s=function s(){if(!i){i=!0,clearTimeout(o);try{r.isIframeBlank(t)||(t.removeEventListener("load",s),r.getIframeContents(t,e,n))}catch(t){n()}}};t.addEventListener("load",s),o=setTimeout(s,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,n){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,n):this.getIframeContents(t,e,n):this.observeIframeLoad(t,e,n)}catch(t){n()}}},{key:"waitForIframes",value:function(t,e){var n=this,r=0;this.forEachIframe(t,(function(){return!0}),(function(t){r++,n.waitForIframes(t.querySelector("html"),(function(){--r||e()}))}),(function(t){t||e()}))}},{key:"forEachIframe",value:function(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=e.querySelectorAll("iframe"),a=s.length,h=0;s=Array.prototype.slice.call(s);var c=function(){--a<=0&&o(h)};a||c(),s.forEach((function(e){t.matches(e,i.exclude)?c():i.onIframeReady(e,(function(t){n(e)&&(h++,r(t)),c()}),c)}))}},{key:"createIterator",value:function(t,e,n){return document.createNodeIterator(t,e,n,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,n){if(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode();return{prevNode:e,node:(null===e||t.nextNode())&&t.nextNode()}}},{key:"checkIframeFilter",value:function(t,e,n,r){var i=!1,o=!1;return r.forEach((function(t,e){t.val===n&&(i=e,o=t.handled)})),this.compareNodeIframe(t,e,n)?(!1!==i||o?!1===i||o||(r[i].handled=!0):r.push({val:n,handled:!0}),!0):(!1===i&&r.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,n,r){var i=this;t.forEach((function(t){t.handled||i.getIframeContents(t.val,(function(t){i.createInstanceOnIframe(t).forEachNode(e,n,r)}))}))}},{key:"iterateThroughNodes",value:function(t,e,n,r,i){for(var o=this,s=this.createIterator(e,t,r),a=[],h=[],c=void 0,u=void 0;l=void 0,l=o.getIteratorNode(s),u=l.prevNode,c=l.node;)this.iframes&&this.forEachIframe(e,(function(t){return o.checkIframeFilter(c,u,t,a)}),(function(e){o.createInstanceOnIframe(e).forEachNode(t,(function(t){return h.push(t)}),r)})),h.push(c);var l;h.forEach((function(t){n(t)})),this.iframes&&this.handleOpenIframes(a,t,n,r),i()}},{key:"forEachNode",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),s=o.length;s||i(),o.forEach((function(o){var a=function(){r.iterateThroughNodes(t,o,e,n,(function(){--s<=0&&i()}))};r.iframes?r.waitForIframes(o,a):a()}))}}],[{key:"matches",value:function(t,e){var n="string"==typeof e?[e]:e,r=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(r){var i=!1;return n.every((function(e){return!r.call(t,e)||(i=!0,!1)})),i}return!1}}]),t}(),o=function(){function o(t){e(this,o),this.ctx=t,this.ie=!1;var n=window.navigator.userAgent;(n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1)&&(this.ie=!0)}return n(o,[{key:"log",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",r=this.opt.log;this.opt.debug&&"object"===(void 0===r?"undefined":t(r))&&"function"==typeof r[n]&&r[n]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",r=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(i):this.escapeStr(i),a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(o):this.escapeStr(o);""!==s&&""!==a&&(t=t.replace(new RegExp("("+this.escapeStr(s)+"|"+this.escapeStr(a)+")","gm"+n),r+"("+this.processSynomyms(s)+"|"+this.processSynomyms(a)+")"+r))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,(function(t){return"\\"===t.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(t){return"\\"===t.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,(function(t,e,n){var r=n.charAt(e+1);return/[(|)\\]/.test(r)||""===r?t:t+"\0"}))}},{key:"createJoinersRegExp",value:function(t){var e=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&e.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],r=[];return t.split("").forEach((function(i){n.every((function(n){if(-1!==n.indexOf(i)){if(r.indexOf(n)>-1)return!1;t=t.replace(new RegExp("["+n+"]","gm"+e),"["+n+"]"),r.push(n)}return!0}))})),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,n=this.opt.accuracy,r="string"==typeof n?n:n.value,i="string"==typeof n?[]:n.limiters,o="";switch(i.forEach((function(t){o+="|"+e.escapeStr(t)})),r){case"partially":default:return"()("+t+")";case"complementary":return"()([^"+(o="\\s"+(o||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")))+"]*"+t+"[^"+o+"]*)";case"exactly":return"(^|\\s"+o+")("+t+")(?=$|\\s"+o+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,n=[];return t.forEach((function(t){e.opt.separateWordSearch?t.split(" ").forEach((function(t){t.trim()&&-1===n.indexOf(t)&&n.push(t)})):t.trim()&&-1===n.indexOf(t)&&n.push(t)})),{keywords:n.sort((function(t,e){return e.length-t.length})),length:n.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var n=[],r=0;return t.sort((function(t,e){return t.start-e.start})).forEach((function(t){var i=e.callNoMatchOnInvalidRanges(t,r),o=i.start,s=i.end;i.valid&&(t.start=o,t.length=s-o,n.push(t),r=s)})),n}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var n=void 0,r=void 0,i=!1;return t&&void 0!==t.start?(r=(n=parseInt(t.start,10))+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&r-e>0&&r-n>0?i=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:n,end:r,valid:i}}},{key:"checkWhitespaceRanges",value:function(t,e,n){var r=void 0,i=!0,o=n.length,s=e-o,a=parseInt(t.start,10)-s;return(r=(a=a>o?o:a)+parseInt(t.length,10))>o&&(r=o,this.log("End range automatically set to the max value of "+o)),a<0||r-a<0||a>o||r>o?(i=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===n.substring(a,r).replace(/\s+/g,"")&&(i=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:a,end:r,valid:i}}},{key:"getTextNodes",value:function(t){var e=this,n="",r=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,(function(t){r.push({start:n.length,end:(n+=t.textContent).length,node:t})}),(function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),(function(){t({value:n,nodes:r})}))}},{key:"matchesExclude",value:function(t){return i.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,n){var r=this.opt.element?this.opt.element:"mark",i=t.splitText(e),o=i.splitText(n-e),s=document.createElement(r);return s.setAttribute("data-markjs","true"),this.opt.className&&s.setAttribute("class",this.opt.className),s.textContent=i.textContent,i.parentNode.replaceChild(s,i),o}},{key:"wrapRangeInMappedTextNode",value:function(t,e,n,r,i){var o=this;t.nodes.every((function(s,a){var h=t.nodes[a+1];if(void 0===h||h.start>e){if(!r(s.node))return!1;var c=e-s.start,u=(n>s.end?s.end:n)-s.start,l=t.value.substr(0,s.start),f=t.value.substr(u+s.start);if(s.node=o.wrapRangeInTextNode(s.node,c,u),t.value=l+f,t.nodes.forEach((function(e,n){n>=a&&(t.nodes[n].start>0&&n!==a&&(t.nodes[n].start-=u),t.nodes[n].end-=u)})),n-=u,i(s.node.previousSibling,s.start),!(n>s.end))return!1;e=s.end}return!0}))}},{key:"wrapMatches",value:function(t,e,n,r,i){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){e.nodes.forEach((function(e){e=e.node;for(var i=void 0;null!==(i=t.exec(e.textContent))&&""!==i[s];)if(n(i[s],e)){var a=i.index;if(0!==s)for(var h=1;h<s;h++)a+=i[h].length;e=o.wrapRangeInTextNode(e,a,a+i[s].length),r(e.previousSibling),t.lastIndex=0}})),i()}))}},{key:"wrapMatchesAcrossElements",value:function(t,e,n,r,i){var o=this,s=0===e?0:e+1;this.getTextNodes((function(e){for(var a=void 0;null!==(a=t.exec(e.value))&&""!==a[s];){var h=a.index;if(0!==s)for(var c=1;c<s;c++)h+=a[c].length;var u=h+a[s].length;o.wrapRangeInMappedTextNode(e,h,u,(function(t){return n(a[s],t)}),(function(e,n){t.lastIndex=n,r(e)}))}i()}))}},{key:"wrapRangeFromIndex",value:function(t,e,n,r){var i=this;this.getTextNodes((function(o){var s=o.value.length;t.forEach((function(t,r){var a=i.checkWhitespaceRanges(t,s,o.value),h=a.start,c=a.end;a.valid&&i.wrapRangeInMappedTextNode(o,h,c,(function(n){return e(n,t,o.value.substring(h,c),r)}),(function(e){n(e,t)}))})),r()}))}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.removeChild(t.firstChild));e.replaceChild(n,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var n=this;this.opt=e,this.log('Searching with expression "'+t+'"');var r=0,i="wrapMatches";this.opt.acrossElements&&(i="wrapMatchesAcrossElements"),this[i](t,this.opt.ignoreGroups,(function(t,e){return n.opt.filter(e,t,r)}),(function(t){r++,n.opt.each(t)}),(function(){0===r&&n.opt.noMatch(t),n.opt.done(r)}))}},{key:"mark",value:function(t,e){var n=this;this.opt=e;var r=0,i="wrapMatches",o=this.getSeparatedKeywords("string"==typeof t?[t]:t),s=o.keywords,a=o.length,h=this.opt.caseSensitive?"":"i";this.opt.acrossElements&&(i="wrapMatchesAcrossElements"),0===a?this.opt.done(r):function t(e){var o=new RegExp(n.createRegExp(e),"gm"+h),c=0;n.log('Searching with expression "'+o+'"'),n[i](o,1,(function(t,i){return n.opt.filter(i,e,r,c)}),(function(t){c++,r++,n.opt.each(t)}),(function(){0===c&&n.opt.noMatch(e),s[a-1]===e?n.opt.done(r):t(s[s.indexOf(e)+1])}))}(s[0])}},{key:"markRanges",value:function(t,e){var n=this;this.opt=e;var r=0,i=this.checkRanges(t);i&&i.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(i)),this.wrapRangeFromIndex(i,(function(t,e,r,i){return n.opt.filter(t,e,r,i)}),(function(t,e){r++,n.opt.each(t,e)}),(function(){n.opt.done(r)}))):this.opt.done(r)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+="."+this.opt.className),this.log('Removal selector "'+n+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,(function(t){e.unwrapMatches(t)}),(function(t){var r=i.matches(t,n),o=e.matchesExclude(t);return!r||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}),this.opt.done)}},{key:"opt",set:function(t){this._opt=r({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new i(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),o}();return function(t){var e=this,n=new o(t);return this.mark=function(t,r){return n.mark(t,r),e},this.markRegExp=function(t,r){return n.markRegExp(t,r),e},this.markRanges=function(t,r){return n.markRanges(t,r),e},this.unmark=function(t){return n.unmark(t),e},this}}()}}]);
//# sourceMappingURL=530.0a9fa2e768fcc894f3e2.js.map